<!doctype html>
<html>
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<title>Evenements Nantais</title>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
		<style>
		</style>
	</head>
	<body>
	<div id="app">
		<h1>Liste des évenements à Nantes</h1>
		<table border="1">
        <thead>
            <tr>
                <th>Nom</th>
                <th>Lieu</th>
                <th>Adresse</th>
            </tr>
        </thead>
        <tbody>
            <tr v-for="event in events" :key="event.nom">
                <td>{{ event.nom }}</td>
                <td>{{ event.lieu }}</td>
                <td>{{ event.adresse }}</td>
            </tr>
        </tbody>
		
    </table>
	</div>	
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
	<script src="https://unpkg.com/vue@3"></script>
	<script>
	const APIurl = "https://data.nantesmetropole.fr/api/explore/v2.1/catalog/datasets/244400404_agenda-evenements-nantes-nantes-metropole/records?select=nom%2C%20adresse%2C%20lieu&limit=40"
	const app = Vue.createApp({
	data() {
		return {
			events: [],
		};
	},
	mounted() {
		this.fetchEventData();
	},
	methods: {
		async fetchEventData() {
			try {
				const response = await axios.get(APIurl);
				console.log(response.data);
				this.events = data.results;
			} catch (error) {
				console.error('Error fetching data:', error);
			}
		},
	},
    });
    app.mount('#app');
</script>
	</body>
</html>